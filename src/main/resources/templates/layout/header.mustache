<nav class="navbar navbar-expand-sm bg-light navbar-light">
    <div class="container-fluid mr-5">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="navbar-brand" href="/">PSY THINKTANK</a>
            </li>
        </ul>
        <ul class="navbar-nav me-md-5">
        <li class="nav-item dropdown">
            {{#member}}
                <li class="nav-item">
                    <button type="button" class="btn btn-link btn-no" id="popoverButton">
                        {{member.memberId}}
                    </button>
                </li>
                <script>
                    let popoverTrigger = document.querySelector('#popoverButton');
                    let popover = new bootstrap.Popover(popoverTrigger, {
                        html: true,
                        content: `
                        <ul class="list-group">
                            {{#member.isAdmin}}
                                <a class="dropdown-item p-0" href="/members">관리자 페이지</a>
                            {{/member.isAdmin}}
                            <a class="dropdown-item p-0" href="/members/modify">{{menu.member_edit}}</a>
                            <a class="dropdown-item p-0" href="/logout">{{menu.logout}}</a>
                        </ul>
                        `
                    });
                </script>
                <script src="/js/chat-notification.js"></script>
            {{/member}}
            {{^member}}
                <li class="nav-item">
                    <a class="nav-link" href="/login">{{menu.login}}</a>
                </li>
            {{/member}}
            </li>
        </ul>
    </div>
</nav>
<nav class="navbar navbar-expand-sm bg-dark navbar-dark justify-content-sm-center justify-content-md-start">
    <button class="navbar-toggler m-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse mx-2" id="navbarSupportedContent">
        <ul class="navbar-nav text-start">
            <li class="nav-item">
                <a class="nav-link" href="/stocks">{{menu.stock_search}}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/articles?boardId=1">{{menu.board1}}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/articles?boardId=2">{{menu.board2}}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/newsletters">{{menu.newsletter}}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/contents/investmentPerformance">{{menu.investment_performance}}</a>
            </li>
            <li class="nav-item">
                <a id="chat-menu" class="nav-link" href="/chat">
                    <span class="position-relative pe-1">
                        {{menu.chat}}
                        <span id="chat-notification"
                              class="position-absolute top-0 start-100 translate-middle p-1 bg-warning border border-warning rounded-circle d-none">
                            <span class="visually-hidden">{{chat.new_alerts}}</span>
                        </span>
                    </span>
                </a>
            </li>
        </ul>
    </div>
    <form method="get" id="localeForm" class="d-flex align-content-center form-group mx-2">
        <label for="localeSelect">
            <select id="localeSelect"
                    class="form-select bg-dark text-light"
                    name="locale"
                    onchange="this.form.submit()">
                <option value="ko">🇰🇷 한국어</option>
                <option value="en">🇺🇸 English</option>
                <option value="ja">🇯🇵 日本語</option>
                <option value="zh">🇨🇳 中文(简体)</option>
                <script>
                    document.querySelector('#localeSelect > option[value="{{locale}}"]')
                            .setAttribute('selected', 'true');
                </script>
            </select>
        </label>
    </form>
</nav>